<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flujograma - Sistema de Medicina Preventiva</title>
    <!-- SweetAlert2 CDN (versión específica para evitar compatibilidad) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.12/sweetalert2.all.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.12/sweetalert2.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #f59e0b;
            --light: #f3f4f6;
            --dark: #1f2937;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #fcf5e9;
            --info: #3b82f6;
            --step1-color: #0ea5e9;
            --step2-color: #8b5cf6;
            --step3-color: #10b981;
            --step4-color: #f43f5e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8fafc;
            color: #334155;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #dbeafe 0%, #ede9fe 100%);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-left: 1rem;
        }

        /* Estilos para el logo */
        .logo-image {
            max-width: 100%;
            height: auto;
            max-height: 70px;
            object-fit: contain;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #dbeafe 0%, #ede9fe 100%);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-left: 1rem;
            min-width: 120px;
            min-height: 80px;
        }

        /* Ajustes responsivos mejorados para el logo */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }

            .logo-container {
                min-width: 200px;
                /* Aumentar el ancho mínimo */
                min-height: 150px;
                /* Aumentar la altura mínima */
                padding: 1rem;
                /* Aumentar el padding */
            }

            .logo-image {
                align-items: center;
                max-height: 120px;
                /* Aumentar la altura máxima */
                width: auto;
                /* Mantener la proporción */
            }

            .title-container h1 {
                font-size: 1.75rem;
            }
        }



        .title-container h1 {
            font-size: 2rem;
            font-weight: 800;
            color: #1e40af;
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .title-container p {
            font-size: 1.25rem;
            color: #64748b;
        }

        .flowchart-container {
            position: relative;
            margin: 2rem 0;
        }

        .flowchart-step {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 4rem;
            position: relative;
            transition: all 0.3s ease;
            transform-origin: center;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
        }

        .flowchart-step:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .step-header {
            display: flex;
            align-items: center;
            padding: 1.5rem;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            position: relative;
        }

        .step-number {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            margin-right: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            z-index: 10;
        }

        .step-title {
            flex: 1;
            z-index: 10;
        }

        .step-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            color: white;
        }

        .step-title p {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .step-content {
            padding: 1.5rem;
            background: white;
        }

        .step-description {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            color: #4b5563;
        }

        .detail-btn {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 1rem;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .detail-btn i {
            margin-right: 0.75rem;
        }

        .detail-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .detail-btn:active {
            transform: translateY(0);
        }

        .connector {
            position: absolute;
            bottom: -3rem;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 3rem;
            background-image: linear-gradient(to bottom, currentColor 50%, rgba(255, 255, 255, 0) 0%);
            background-position: right;
            background-size: 2px 1rem;
            background-repeat: repeat-y;
            z-index: 1;
        }

        .connector:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid currentColor;
        }

        /* Estilos específicos para cada paso */
        .step-1 .step-header {
            background: linear-gradient(120deg, var(--step1-color), #0284c7);
        }

        .step-1 .step-number {
            background-color: white;
            color: var(--step1-color);
        }

        .step-1 .connector,
        .step-1 .connector:after {
            color: var(--step1-color);
        }

        .step-1 .detail-btn {
            background-color: var(--step1-color);
        }

        .step-1 .detail-btn:hover {
            background-color: #0284c7;
        }

        .step-2 .step-header {
            background: linear-gradient(120deg, var(--step2-color), #7c3aed);
        }

        .step-2 .step-number {
            background-color: white;
            color: var(--step2-color);
        }

        .step-2 .connector,
        .step-2 .connector:after {
            color: var(--step2-color);
        }

        .step-2 .detail-btn {
            background-color: var(--step2-color);
        }

        .step-2 .detail-btn:hover {
            background-color: #7c3aed;
        }

        .step-3 .step-header {
            background: linear-gradient(120deg, var(--step3-color), #059669);
        }

        .step-3 .step-number {
            background-color: white;
            color: var(--step3-color);
        }

        .step-3 .connector,
        .step-3 .connector:after {
            color: var(--step3-color);
        }

        .step-3 .detail-btn {
            background-color: var(--step3-color);
        }

        .step-3 .detail-btn:hover {
            background-color: #059669;
        }

        .step-4 .step-header {
            background: linear-gradient(120deg, var(--step4-color), #e11d48);
        }

        .step-4 .step-number {
            background-color: white;
            color: var(--step4-color);
        }

        .step-4 .detail-btn {
            background-color: var(--step4-color);
        }

        .step-4 .detail-btn:hover {
            background-color: #e11d48;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background-color: white;
            max-width: 800px;
            margin: 2rem auto;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            text-align: right;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
            transition: color 0.2s ease;
        }

        .modal-close:hover {
            color: #1f2937;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .modal-subtitle {
            color: #6b7280;
            font-size: 1rem;
        }

        .modal-title i {
            margin-right: 0.75rem;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: white;
            font-size: 1rem;
        }

        .modal-section {
            margin-bottom: 1.5rem;
            padding: 1.25rem;
            border-radius: 0.5rem;
            background-color: #f9fafb;
            border-left: 4px solid;
        }

        .modal-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .modal-section ul {
            padding-left: 1.5rem;
        }

        .modal-section li {
            margin-bottom: 0.5rem;
        }

        .tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0 0.25rem;
        }

        /* Modal themes */
        .modal-1 .modal-title i {
            background-color: var(--step1-color);
        }

        .modal-1 .modal-section {
            border-left-color: var(--step1-color);
        }

        .modal-1 .tag {
            background-color: #e0f2fe;
            color: var(--step1-color);
        }

        .modal-2 .modal-title i {
            background-color: var(--step2-color);
        }

        .modal-2 .modal-section {
            border-left-color: var(--step2-color);
        }

        .modal-2 .tag {
            background-color: #ede9fe;
            color: var(--step2-color);
        }

        .modal-3 .modal-title i {
            background-color: var(--step3-color);
        }

        .modal-3 .modal-section {
            border-left-color: var(--step3-color);
        }

        .modal-3 .tag {
            background-color: #d1fae5;
            color: var(--step3-color);
        }

        .modal-4 .modal-title i {
            background-color: var(--step4-color);
        }

        .modal-4 .modal-section {
            border-left-color: var(--step4-color);
        }

        .modal-4 .tag {
            background-color: #fee2e2;
            color: var(--step4-color);
        }

        /* Tutorial button styles */
        .tutorial-btn-container {
            text-align: center;
            margin: 3rem 0 2rem;
        }

        .tutorial-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, #2563eb, #4f46e5);
            color: white;
            font-size: 1.25rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3), 0 4px 6px -2px rgba(37, 99, 235, 0.2);
        }

        .tutorial-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(37, 99, 235, 0.3), 0 10px 10px -5px rgba(37, 99, 235, 0.2);
            background: linear-gradient(135deg, #1d4ed8, #4338ca);
        }

        .tutorial-btn i {
            margin-right: 0.75rem;
            font-size: 1.5rem;
        }

        .floating-home-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: red;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: all 0.3s;
        }

        .floating-home-btn:hover {
            transform: scale(1.1);
            color: white;
        }

        .factor-icon {
            font-size: 1.5rem;
            margin-right: 10px;
            color: var(--primary-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .logo-container {
                margin-left: 0;
            }

            .step-header {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
            }

            .step-number {
                margin-right: 0;
                margin-bottom: 1rem;
                width: 3rem;
                height: 3rem;
                font-size: 1.25rem;
            }

            .modal-content {
                margin: 1rem;
                width: auto;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header con logo -->
        <div class="header">
            <div class="title-container">
                <h1>Sistema de Administración de Pacientes | Programa Asuriesgo</h1>
                <p>Flujograma del Circuito de la Clínica de la Prevención</p>
            </div>
            <div class="logo-container">
                <img src="logo_asuriesgo.png" alt="Logo ASU Riesgo" class="logo-image">
            </div>
        </div>

        <!-- Flujograma -->
        <div class="flowchart-container">
            <!-- Paso 1 -->
            <div class="flowchart-step step-1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">
                        <h2>Recepción de Pacientes</h2>
                        <p>Personal Administrativo</p>
                    </div>
                </div>
                <div class="step-content">
                    <p class="step-description">
                        Registro inicial de pacientes en el Sistema de Medicina Preventiva (SMP). Validación de datos
                        existentes o inclusión de nuevos pacientes.
                    </p>
                    <button class="detail-btn" onclick="openModal('modal1')">
                        <i class="fas fa-info-circle"></i> Ver procedimiento detallado
                    </button>
                </div>
                <div class="connector"></div>
            </div>

            <!-- Paso 2 -->
            <div class="flowchart-step step-2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">
                        <h2>Pre-Consulta - Antecedentes Personales</h2>
                        <p>Personal de Salud - Enfermería, Psicología o afines</p>
                    </div>
                </div>
                <div class="step-content">
                    <p class="step-description">
                        Registro de antecedentes personales y factores de riesgo para evaluar patrones hereditarios y
                        hábitos alimenticios del paciente.
                    </p>
                    <button class="detail-btn" onclick="openModal('modal2')">
                        <i class="fas fa-info-circle"></i> Ver procedimiento detallado
                    </button>
                </div>
                <div class="connector"></div>
            </div>

            <!-- Paso 3 -->
            <div class="flowchart-step step-3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">
                        <h2>Pre-Consulta - Examen Físico y otros Estudios</h2>
                        <p>Personal de Salud - Enfermería</p>
                    </div>
                </div>
                <div class="step-content">
                    <p class="step-description">
                        Registro de parámetros clínicos y antropométricos básicos para evaluación del estado físico
                        general del paciente.
                    </p>
                    <button class="detail-btn" onclick="openModal('modal3')">
                        <i class="fas fa-info-circle"></i> Ver procedimiento detallado
                    </button>
                </div>
                <div class="connector"></div>
            </div>

            <!-- Paso 4 -->
            <div class="flowchart-step step-4">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <div class="step-title">
                        <h2>Consulta Médica - Anamnesis</h2>
                        <p>Personal de Salud - Médicos</p>
                    </div>
                </div>
                <div class="step-content">
                    <p class="step-description">
                        Evaluación de síntomas cardiovasculares y respiratorios mediante una entrevista clínica
                        estructurada para detectar posibles patologías.
                    </p>
                    <button class="detail-btn" onclick="openModal('modal4')">
                        <i class="fas fa-info-circle"></i> Ver procedimiento detallado
                    </button>
                </div>
            </div>
        </div>

        <!-- Botón para iniciar tutorial -->
        <div class="tutorial-btn-container">
            <button id="startTutorial" class="tutorial-btn">
                <i class="fas fa-play-circle"></i> Iniciar Tutorial Interactivo
            </button>
        </div>

        <!-- Modal 1: Recepción de Pacientes -->
        <div id="modal1" class="modal">
            <div class="modal-content modal-1">
                <div class="modal-header">
                    <div>
                        <div class="modal-title">
                            <i class="fas fa-user-plus"></i> Recepción de Pacientes
                        </div>
                        <div class="modal-subtitle">Funcionarios Administrativos</div>
                    </div>
                    <button class="modal-close" onclick="closeModal('modal1')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <h3>Procedimiento en el Sistema de Medicina Preventiva (SMP):</h3>
                        <ol style="list-style-type: lower-alpha;">
                            <li>Acceso al Sistema de Medicina Preventiva (SMP) para carga inicial de los pacientes:
                                <ul>
                                    <li>Ingresar a pestaña <span class="tag">Consulta</span> donde se despliega todos
                                        los registros a la fecha.</li>
                                    <li>Validar si el paciente es nuevo en el circuito. Para validar, ingrese en el
                                        campo <span class="tag">Buscar</span> de la tabla de pacientes, algún dato, ya
                                        sea cédula de identidad, nombre o apellido.</li>
                                    <li>Si el paciente ya consultó en algún momento, debe aparecer sus datos.</li>
                                    <li>Si el paciente asiste por primera vez, debe agregar sus datos en <span
                                            class="tag">Nuevo Paciente</span>.</li>
                                    <li>En Nuevo Paciente, el sistema solicita el Número de Cédula. Al ingresar el
                                        número de cédula, el sistema arroja algunos datos del asegurado directamente
                                        desde la base de Aporte Obrero Patronal (AOP).</li>
                                    <li>Es ideal actualizar los campos faltantes.</li>
                                    <li>Una vez culminado el proceso, dar click en el botón azul de <span
                                            class="tag">Guardar</span>.</li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="detail-btn" onclick="closeModal('modal1')">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Modal 2: Pre-Consulta - Antecedentes Personales -->
        <div id="modal2" class="modal">
            <div class="modal-content modal-2">
                <div class="modal-header">
                    <div>
                        <div class="modal-title">
                            <i class="fas fa-notes-medical"></i> Pre-Consulta - Antecedentes Personales
                        </div>
                        <div class="modal-subtitle">Personal de Salud - Enfermería, Psicología o afines</div>
                    </div>
                    <button class="modal-close" onclick="closeModal('modal2')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <h3>Procedimiento en el Sistema de Medicina Preventiva (SMP):</h3>
                        <ol style="list-style-type: lower-alpha;">
                            <li>
                                <ul>
                                    <li>Ingresar a pestaña <span class="tag">Consulta</span> donde se despliega todos
                                        los registros a la fecha.</li>
                                    <li>Para encontrar el paciente, ingrese en el campo <span class="tag">Buscar</span>
                                        de la tabla de pacientes, algún dato, ya sea cédula de identidad, nombre o
                                        apellido.</li>
                                    <li>Una vez encontrado el paciente, click en el botón <span class="tag">Cargar
                                            Consulta</span>.</li>
                                    <li>A continuación, se desplegará la lista de consultas de ese paciente.</li>
                                    <li>De click al botón <span class="tag">Nueva Consulta</span>, donde se abrirá un
                                        formulario.</li>
                                    <li>Busque la caja <span class="tag">Acceso Rápido</span> y seleccione el enlace
                                        <span class="tag">Antecedentes Personales</span>.
                                    </li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                    <div class="modal-section">
                        <h3>Propósito del formulario de Antecedentes Personales:</h3>
                        <p>Este formulario está diseñado para recopilar información sobre enfermedades hereditarias o
                            condiciones médicas relevantes en el historial familiar de un paciente. Su objetivo
                            principal es evaluar riesgos genéticos o predisposiciones a enfermedades crónicas, lo que
                            ayuda a profesionales de la salud en:</p>
                        <ul>
                            <li><strong>Identificar patrones hereditarios</strong> de enfermedades cardiometabólicas y
                                vasculares.</li>
                            <li><strong>Evaluar riesgos preventivos</strong> para el paciente basados en antecedentes
                                familiares.</li>
                            <li><strong>Documentar datos clínicos</strong> esenciales para diagnósticos y seguimientos
                                médicos.</li>
                        </ul>
                    </div>
                    <div class="modal-section">
                        <h3>Factores de Riesgo:</h3>
                        <p>Una vez completado este paso, busque en Acceso Rápido, el enlace <span class="tag">Factores
                                de Riesgos</span>.</p>
                        <p>Este formulario evalúa los <strong>hábitos alimenticios</strong> del paciente mediante un
                            sistema de puntuación (<strong>SCORE</strong>), con el objetivo de:</p>
                        <ul>
                            <li><strong>Clasificar la calidad nutricional</strong> del paciente en una escala de 0 a 9
                                puntos, categorizándola como <em>Pobre</em>, <em>Intermedia</em> u <em>Óptima</em>.</li>
                            <li><strong>Identificar patrones de consumo</strong> clave (vegetales, grasas animales,
                                azúcares) para orientar intervenciones dietéticas.</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="detail-btn" onclick="closeModal('modal2')">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Modal 3: Pre-Consulta - Examen Físico -->
        <div id="modal3" class="modal">
            <div class="modal-content modal-3">
                <div class="modal-header">
                    <div>
                        <div class="modal-title">
                            <i class="fas fa-stethoscope"></i> Pre-Consulta - Examen Físico y otros Estudios
                        </div>
                        <div class="modal-subtitle">Personal de Salud - Enfermería</div>
                    </div>
                    <button class="modal-close" onclick="closeModal('modal3')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <h3>Procedimiento en el Sistema de Medicina Preventiva (SMP):</h3>
                        <ol style="list-style-type: lower-alpha;">
                            <li>
                                <ul>
                                    <li>Ingresar a pestaña <span class="tag">Consulta</span> donde se despliega todos
                                        los registros a la fecha.</li>
                                    <li>Para encontrar el paciente, ingrese en el campo <span class="tag">Buscar</span>
                                        de la tabla de pacientes, algún dato, ya sea cédula de identidad, nombre o
                                        apellido.</li>
                                    <li>Una vez encontrado el paciente, click en el botón <span class="tag">Cargar
                                            Consulta</span>.</li>
                                    <li>A continuación, se desplegará la lista de consultas de ese paciente.</li>
                                    <li>De click al botón <span class="tag">Nueva Consulta</span>, donde se abrirá un
                                        formulario.</li>
                                    <li>Busque la caja <span class="tag">Acceso Rápido</span> y seleccione el enlace
                                        <span class="tag">Examen Físico y Resultados</span>.
                                    </li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                    <div class="modal-section">
                        <h3>Datos a registrar en el examen físico:</h3>
                        <ul>
                            <li><strong>Presión arterial:</strong> Medición sistólica y diastólica.</li>
                            <li><strong>Frecuencia cardíaca:</strong> Pulsaciones por minuto en reposo.</li>
                            <li><strong>Perímetro abdominal:</strong> Medición en centímetros.</li>
                            <li><strong>Peso:</strong> En kilogramos.</li>
                            <li><strong>Talla:</strong> En centímetros.</li>
                            <li><strong>IMC:</strong> Índice de Masa Corporal (calculado automáticamente).</li>
                        </ul>
                    </div>
                    <div class="modal-section">
                        <h3>Resultados de laboratorio:</h3>
                        <p>En la misma sección, registre los siguientes datos:</p>
                        <ul>
                            <li><strong>Glicemia:</strong> Nivel de glucosa en sangre.</li>
                            <li><strong>Hemoglobina glicosilada (HbA1c):</strong> Cuando esté disponible.</li>
                            <li><strong>Colesterol total, HDL, LDL:</strong> Perfil lipídico completo.</li>
                            <li><strong>Triglicéridos:</strong> Nivel en sangre.</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="detail-btn" onclick="closeModal('modal3')">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Modal 4: Consulta Médica - Anamnesis -->
        <div id="modal4" class="modal">
            <div class="modal-content modal-4">
                <div class="modal-header">
                    <div>
                        <div class="modal-title">
                            <i class="fas fa-user-md"></i> Consulta Médica - Anamnesis
                        </div>
                        <div class="modal-subtitle">Personal de Salud - Médicos</div>
                    </div>
                    <button class="modal-close" onclick="closeModal('modal4')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <h3>Procedimiento en el Sistema de Medicina Preventiva (SMP):</h3>
                        <ol style="list-style-type: lower-alpha;">
                            <li>
                                <ul>
                                    <li>Ingresar a pestaña <span class="tag">Consulta</span> donde se despliega todos
                                        los registros a la fecha.</li>
                                    <li>Para encontrar el paciente, ingrese en el campo <span class="tag">Buscar</span>
                                        de la tabla de pacientes, algún dato, ya sea cédula de identidad, nombre o
                                        apellido.</li>
                                    <li>Una vez encontrado el paciente, click en el botón <span class="tag">Cargar
                                            Consulta</span>.</li>
                                    <li>Seleccione la consulta actual del paciente.</li>
                                    <li>Busque la caja <span class="tag">Acceso Rápido</span> y seleccione el enlace
                                        <span class="tag">Consulta Médica</span>.
                                    </li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                    <div class="modal-section">
                        <h3>Evaluación de Síntomas Cardiovasculares y Respiratorios:</h3>
                        <p>Durante la anamnesis, el médico debe evaluar y registrar:</p>
                        <ul>
                            <li><strong>Dolor torácico:</strong> Características, intensidad, duración y factores
                                desencadenantes.</li>
                            <li><strong>Disnea:</strong> Dificultad respiratoria en reposo o esfuerzo.</li>
                            <li><strong>Palpitaciones:</strong> Sensación anormal de los latidos cardíacos.</li>
                            <li><strong>Síncope:</strong> Pérdida breve del conocimiento.</li>
                            <li><strong>Edema:</strong> Hinchazón en extremidades inferiores.</li>
                            <li><strong>Fatiga inusual:</strong> Cansancio no proporcional al esfuerzo realizado.</li>
                        </ul>
                    </div>
                    <div class="modal-section">
                        <h3>Análisis y Plan de Acción:</h3>
                        <p>Basado en la evaluación integral del paciente, el médico debe:</p>
                        <ul>
                            <li><strong>Estratificar el riesgo cardiovascular</strong> utilizando la escala de
                                Framingham actualizada.</li>
                            <li><strong>Formular un diagnóstico preliminar</strong> con base en hallazgos clínicos y
                                paraclínicos.</li>
                            <li><strong>Establecer un plan terapéutico</strong> individualizado que incluya:
                                <ul>
                                    <li>Recomendaciones de cambios en el estilo de vida.</li>
                                    <li>Tratamiento farmacológico cuando sea necesario.</li>
                                    <li>Referencias a especialidades médicas si se requiere.</li>
                                </ul>
                            </li>
                            <li><strong>Programar seguimiento</strong> según el nivel de riesgo identificado.</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="detail-btn" onclick="closeModal('modal4')">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Botón flotante para volver al index -->
    <a href="index.html" class="floating-home-btn">
        <i class="fas fa-home"></i>
    </a>

    <script>
        // Funciones para manejar los modales
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Cerrar el modal si se hace clic fuera del contenido
        window.onclick = function (event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Tutorial interactivo usando SweetAlert2
        document.getElementById('startTutorial').addEventListener('click', function () {
            const steps = [
                {
                    title: 'Bienvenido al Sistema de Medicina Preventiva',
                    text: 'Este tutorial te guiará a través del circuito completo de la clínica de prevención.',
                    icon: 'info'
                },
                {
                    title: 'Paso 1: Recepción de Pacientes',
                    text: 'El primer paso es el registro administrativo del paciente en el sistema SMP. Aquí se validan o ingresan los datos básicos.',
                    icon: 'user',
                    confirmButtonColor: '#0ea5e9'
                },
                {
                    title: 'Paso 2: Pre-Consulta - Antecedentes',
                    text: 'Se registran los antecedentes personales y factores de riesgo para evaluar la predisposición a enfermedades.',
                    icon: 'clipboard',
                    confirmButtonColor: '#8b5cf6'
                },
                {
                    title: 'Paso 3: Pre-Consulta - Examen Físico',
                    text: 'Se registran los parámetros clínicos y antropométricos básicos como presión arterial, peso, talla, etc.',
                    icon: 'stethoscope',
                    confirmButtonColor: '#10b981'
                },
                {
                    title: 'Paso 4: Consulta Médica',
                    text: 'El médico realiza la evaluación clínica, analiza los resultados previos y establece un plan de acción.',
                    icon: 'user-md',
                    confirmButtonColor: '#f43f5e'
                },
                {
                    title: '¡Tutorial Completado!',
                    text: 'Ahora puede explorar cada paso en detalle haciendo clic en "Ver procedimiento detallado" en cada sección.',
                    icon: 'success',
                    confirmButtonColor: '#2563eb'
                }
            ];

            // Función para mostrar los pasos del tutorial
            let currentStep = 0;

            function showNextStep() {
                if (currentStep < steps.length) {
                    const step = steps[currentStep];

                    // Usar SweetAlert2 para mostrar el paso actual
                    Swal.fire({
                        title: step.title,
                        text: step.text,
                        icon: step.icon || 'info',
                        confirmButtonText: currentStep < steps.length - 1 ? 'Siguiente' : 'Finalizar',
                        confirmButtonColor: step.confirmButtonColor || '#2563eb',
                        showClass: {
                            popup: 'animate__animated animate__fadeInDown'
                        },
                        hideClass: {
                            popup: 'animate__animated animate__fadeOutUp'
                        }
                    }).then((result) => {
                        if (result.isConfirmed) {
                            currentStep++;
                            showNextStep();
                        }
                    });

                    // Resaltar el paso actual en el flujograma
                    if (currentStep > 0 && currentStep < steps.length - 1) {
                        const flowchartSteps = document.querySelectorAll('.flowchart-step');
                        flowchartSteps.forEach((step, index) => {
                            if (index === currentStep - 1) {
                                step.style.transform = 'translateY(-10px) scale(1.03)';
                                step.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)';
                            } else {
                                step.style.transform = '';
                                step.style.boxShadow = '';
                            }
                        });
                    }
                }
            }

            showNextStep();
        });
    </script>
</body>

</html>